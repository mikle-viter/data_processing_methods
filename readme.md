# Mikle Viter. 
# Итоговая работа по курсу "Методы сбора и обработки данных из сети Интернет"
Поскольку к инстаграмму доступ закрыт, то был разработан паук, который собирает данные по подписчикам и подпискам пользователей GitHub.
Паук выполняет авторизацию под аккаунтом оператора (логин и пароль моего аккаунта скрыты в целях безопасности), а затем из списка "source_users" берет пользователей.

Разработка велась на интерпретаторе Python 3.10 в среде PyCharm Community 2022.3.2.

# Структура проекта
Стандартная структура, автоматически генерируемая фреймворком Scrapy.

Код паука находится в файле "github.py" в папке "api_scrapper/api_scrapper/spiders/".

В папку с именем из поля "avatars_path" (по умолчанию "avatars) сохраняются аватарки пользователей.

В папке "Mongo_DB_screens" размещены скрины созданной БД, а также выполнения запросов на выборку подписчиков и подписок для пользователей.

Также паук автоматически формирует выходной текстовый файл с именем, хранящимся в поле "db_name" объекта класса "GithubSpider" (по умолчанию это "final_db.txt").

# Настройки паука
В "settings.py" установлена задержка в 3 секунды:

```DOWNLOAD_DELAY = 3```

В классе "GithubSpider" в файле "api_scrapper/api_scrapper/spiders/github.py" надо установить значения:
* login - Логин вашего аккаунта в GitHub
* password - Пароль вашего аккаунта в GitHub
* source_users - Список никнеймов пользователей в GitHub, по которым надо собрать данные
* avatars_path - Путь для сохранения аватарок пользователей
* db_name - Имя базы данных MongoDB для сохранения информации по подписчикам и подпискам

# Структура базы данных
Результатаы записываются в БД MongoDB со структурой коллекций:
* source_users {user_nickname: Значение}
* followers {
  * source_user: Значение,
  * user_link: Значение,
  * user_avatar_href: Значение,
  * user_name: Значение,
  * user_nickname: Значение,
  * user_followers_cnt: Значение,
  * user_following_cnt: Значение,
  * user_repositories_cnt: Значение,
  * user_projects_cnt: Значение,
  * user_packages_cnt: Значение,
  * user_stars_cnt: Значение,
  * user_activity_years_cnt: Значение,
  * user_activity_years: [Значение, ..., Значение]}
* following {структура такая же, как и у followers}

# Запуск паука
Для запуска надо:
  1) Открыть проект.
  2) Установить виртуальное окружение с библиотеками "scrapy", "requests", "pymongo".
  3) Перейти в директорию api_scrapper:
```cd api_scrapper```
  4) Выполнить команду в терминале:
```scrapy crawl github```

По завершению работы в терминале будет выведено сообщение "INFO: Spider closed (finished)"